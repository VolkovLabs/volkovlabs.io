---
tags:
  - Apache ECharts
  - JavaScript Code
image: /img/plugins/volkovlabs-echarts-panel/schema.png
---

import Image from "@theme/Image";
import Video from "@theme/Video";

# ECharts Function

`setOption(options)` is the main Apache ECharts library function. This function is called to build any chart.

It has one mandatory parameter `options` which is a chart configuration in a JSON format.

<Image
  title="Apache ECharts panel uses Apache ECharts library and parameters to produce charts."
  src="/img/plugins/volkovlabs-echarts-panel/schema.png"
/>

## Options

You specify the `options` in the Apache ECharts visualization panel in the Monaco Code editor located on the right-hand side.

<Image
  title="Apache ECharts panel provides an editor to create ECharts functions."
  src="/img/plugins/volkovlabs-echarts-panel/function.png"
/>

This whole text area is a body of the function that you write for the execution. This function takes in many parameters from Grafana. See the complete list in the table below.

The only parameter that is passed from this function to the `setOption()` is `options`. See the `return` statement in the picture above.

## Parameters

| Parameter                                  | Description                                                    |
| ------------------------------------------ | -------------------------------------------------------------- |
| `data`                                     | Object with a time range, series and request information.      |
| `echarts`                                  | ECharts library.                                               |
| `echartsInstance`                          | Instance of the ECharts. See the example in the picture above. |
| `ecStat`                                   | A statistical and data mining tool for Apache ECharts.         |
| `eventBus`                                 | Publish and subscribe to application events.                   |
| `getDataSourceSrv`                         | Retrieve the entry point to data sources. Added in 4.3.0.      |
| `locationService`                          | Works with browser location and history.                       |
| `notifyError(['Header', 'Error Message'])` | Display error notification.                                    |
| `notifySuccess(['Header', 'Message'])`     | Display successful notification.                               |
| `replaceVariables`                         | Function to interpolate variables.                             |
| `theme`                                    | Theming object.                                                |

To learn more about parameters, you can log them in the Browser Console.

```javascript
console.error(
  data,
  theme,
  echartsInstance,
  echarts,
  replaceVariables,
  locationService
);
```

## Notifications

Success and Error notifications can be triggered on events handling.

```javascript
notifySuccess(["Update", "Values updated successfully."]);
notifyError(["Update", `An error occurred updating values.`]);
```
