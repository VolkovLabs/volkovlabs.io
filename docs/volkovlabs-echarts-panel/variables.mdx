---
description: Use `replaceVariables()` function to replace Dashboard and Global variables.
hide_table_of_contents: true
tags:
  - Apache ECharts
  - Variables
---

import Image from "@theme/Image";
import Video from "@theme/Video";

# Variables

Use the `replaceVariables()` function to replace Dashboard and Global variables.

```javascript
const email = replaceVariables("${__user.email}");
```

<Video
  src="https://www.youtube.com/embed/sczRq2lI3e4"
  title="Dashboard, Global and Environment variables."
/>

You can find [global built-in variables](https://grafana.com/docs/grafana/latest/variables/variable-types/global-variables/) in the Grafana documentation.

## Replace Dashboard Variables

In the following example, we replaced series's name with the variable's value.

<Image
  title="Replace Dashboard Variables."
  src="/img/plugins/volkovlabs-echarts-panel/variables.png"
/>

Visualization panel's function:

```js
let names = [];
let amounts = [];
data.series.map((s) => {
  names = s.fields.find((f) => f.name === "Name").values.buffer;
  amounts = s.fields.find((f) => f.name === "Amount").values.buffer;
});

return {
  grid: {
    bottom: "3%",
    containLabel: true,
    left: "3%",
    right: "4%",
    top: "4%",
  },
  tooltip: {},
  legend: {},
  xAxis: {
    data: names,
  },
  yAxis: {},
  toolbox: { feature: { restore: {} } },
  series: [
    {
      name: replaceVariables("$var"),
      type: "bar",
      data: amounts,
    },
  ],
};
```

## Update Dashboard Variables

Dashboard variables can be updated in the [Event Handlers](/plugins/volkovlabs-echarts-panel/events).

```js
echartsInstance.on("click", (params) => {
  locationService.partial({ "var-name": value }, true);
});
```
