---
tags:
  - Dynamic Text
  - JavaScript Code
---

import Image from "@theme/Image";
import Video from "@theme/Video";

# JavaScript Code

JavaScript Code allows adding Handlebars helpers and Event handlers.

:::info

Supported since Dynamic Text panel 2.2.0.

:::

<Video
  src="https://www.youtube.com/embed/lJqk5Gobec4"
  title="JavaScript code in the Dynamic text panel."
/>

## Parameters

| Parameter     | Description                                                                                                              |
| ------------- | ------------------------------------------------------------------------------------------------------------------------ |
| `data`        | Data from data sources. Depends on the selected **Every Row** and **All Rows** option consists of one or many rows data. |
| `getLocale()` | Returns user's locale: 'en', 'fr', 'es', etc.                                                                            |
| `handlebars`  | Handlebars library.                                                                                                      |

## Define Custom Handlebars helper

A custom handlebars helper can be added to replace the field's value using a pattern.

```handlebars
{{replace Test "Pattern" "Replaced"}}
```

JavaScript Code:

```js
handlebars.registerHelper("replace", (context, pattern, replacement) =>
  context.replace(pattern, replacement)
);
```

<Image
  title="A custom Helper to replace data in the returned data."
  src="/img/plugins/volkovlabs-dynamictext-panel/replace.png"
/>

## Add Event Handler

A custom event handler can be added to react to a button click.

```html
<button onclick="myFunc()">{{test}}</button>
```

JavaScript Code:

```js
myFunc = () => {
  alert("Bonjour!");
};
```

## Add Internationalization

Grafana 9 supports Internationalization, which is not fully exposed to plugins yet. Meanwhile, we can use `getLocale()` method to get a value for the selected locale and show phrases from a defined dictionary.

Content:

```handlebars
{{translate "Hello"}}
```

Default Content:

```handlebars
{{translate "Default"}}
```

JavaScript Code:

```js reference
https://github.com/VolkovLabs/volkovlabs.io/blob/main/docs/volkovlabs-dynamictext-panel/translate.js
```
