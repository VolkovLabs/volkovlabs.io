---
tags:
  - Dynamic Text
  - Events
image: /img/plugins/volkovlabs-dynamictext-panel/external.png
---

import Code from "@theme/Code";
import Image from "@theme/Image";
import Video from "@theme/Video";

# External JS and CSS

:::info Version

Dynamic Text Panel supports the external resources starting from version 4.1.0.

:::

Dynamic Text Panel enables the loading of additional JavaScript and CSS resources using external URLs like CDN (Content Delivery Network).

To prevent the loading of third-party URLs, you can store CSS and JS files in the public folder on your Grafana instance.

<Image
  title="Loading Google Material CSS and JS files from an external resource."
  src="/img/plugins/volkovlabs-dynamictext-panel/external.png"
  lazy={false}
/>

## Sanitization

You need to disable the sanitization configuration to see external resources in the plugin options.

## JavaScript Code

You can use external CSS and JS files to include additional visual elements and execute JavaScript functions in the [JavaScript Code](/plugins/volkovlabs-dynamictext-panel/code) editor.

## Plotly 3D Scatter

You can visualize Plotly's 3D Scatter chart by loading the external JS library from `https://cdn.plot.ly/plotly-2.24.1.min.js` and adding a JavaScript code snippet.

Thanks to our community member [yosiasz](https://github.com/yosiasz) for the provided solution.

<Image
  title="Loading Plotly library and adding content with JavaScript code."
  src="/img/plugins/volkovlabs-dynamictext-panel/external-plotly.png"
  lazy={false}
  width="60%"
/>

Grafana's edit mode may prevent displaying the Plotly chart in the edit mode. Save and check the result on the dashboard.

### Content

```html
<body>
  <div id="addisAbeba">
    <!-- Plotly chart will be rendered inside this DIV -->
  </div>
</body>
```

<Image
  title="3D Scatter chart visualized with Plotly, an external JavaScript library."
  src="/img/plugins/volkovlabs-dynamictext-panel/plotly.png"
  lazy={false}
  width="60%"
/>

### JavaScript Code

```js
(async () => {
  let url =
    "https://raw.githubusercontent.com/plotly/datasets/master/3d-scatter.csv";

  let fetchData = await fetch(url);
  let csvData = await fetchData.text();
  let rows = csvToJson(csvData);

  var trace1 = {
    x: unpack(rows, "x1"),
    y: unpack(rows, "y1"),
    z: unpack(rows, "z1"),
    mode: "markers",
    marker: {
      size: 12,
      line: {
        color: "rgba(217, 217, 217, 0.14)",
        width: 0.5,
      },
      opacity: 0.8,
    },
    type: "scatter3d",
  };

  var trace2 = {
    x: unpack(rows, "x2"),
    y: unpack(rows, "y2"),
    z: unpack(rows, "z2"),
    mode: "markers",
    marker: {
      color: "rgb(127, 127, 127)",
      size: 12,
      symbol: "circle",
      line: {
        color: "rgb(204, 204, 204)",
        width: 1,
      },
      opacity: 0.8,
    },
    type: "scatter3d",
  };

  var data = [trace1, trace2];

  var layout = {
    margin: {
      l: 0,
      r: 0,
      b: 0,
      t: 0,
    },
  };
  Plotly.newPlot("addisAbeba", data, layout);
})();

const unpack = (rows, key) => {
  return rows.map(function (row) {
    return row[key];
  });
};

const csvToJson = (data, delimiter = ",") => {
  const titles = data.slice(0, data.indexOf("\r\n")).split(delimiter);
  return data
    .slice(data.indexOf("\n") + 1)
    .split("\r\n")
    .map((v) => {
      const values = v.split(delimiter);
      return titles.reduce(
        (obj, title, index) => ((obj[title] = values[index]), obj),
        {}
      );
    });
};
```
