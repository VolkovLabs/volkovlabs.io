{"openapi":"3.0.0","paths":{"/license":{"get":{"operationId":"LicenseController_getLicenseInfo","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LicenseInfo"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"No license","code":"noLicense"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get License Info","tags":["License"]}},"/license/token":{"put":{"operationId":"LicenseController_updateLicenseToken","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LicenseUpdate"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LicenseUpdateResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License is not valid","code":"newLicenseInvalid"},"type":"#/components/schemas/ErrorResult"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Token is set in the environment file and cannot be updated","code":"licenseTokenReadonly"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Update License Token","tags":["License"]}},"/clustering":{"get":{"operationId":"ClusteringController_getNodeConfiguration","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeConfiguration"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get node configuration","tags":["Clustering"]}},"/clustering/load-balancing":{"get":{"operationId":"ClusteringController_getLoadBalancing","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClusteringLoadBalancing"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get Load Balancing","tags":["Clustering"]}},"/health":{"get":{"operationId":"HealthController_ping","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"default":{"message":"pong","version":"2.7.0"}}}}},"400":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Grafana version is not supported","code":"grafanaUnreachable"},"type":"#/components/schemas/ErrorResult"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Health check","tags":["Health"]}},"/grafana/variables-load":{"post":{"operationId":"GrafanaController_loadDashboardVariables","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetDashboardVariables"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardVariableOptionsResponse"}}}},"400":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Dashboard \"[id]\" does not exist.","code":"alertRuleNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get dashboard variables","tags":["Grafana"]}},"/grafana/check-panel-support":{"post":{"operationId":"GrafanaController_checkPanelSupport","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GrafanaPanelTarget"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"boolean"}}}},"400":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Panel target is not supported","code":"panelTargetUnsupported"},"type":"#/components/schemas/ErrorResult"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Panel not found","code":"panelNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Check Panel Support","tags":["Grafana"]}},"/grafana-data/search":{"get":{"operationId":"GrafanaDataController_searchDashboards","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Search dashboards","tags":["Grafana Proxy"]}},"/grafana-data/dashboards/uid/{id}":{"get":{"operationId":"GrafanaDataController_getDashboardInfo","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get dashboard by uid","tags":["Grafana Proxy"]}},"/grafana-data/org/users":{"get":{"operationId":"GrafanaDataController_getUsers","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get all users within the current organization.","tags":["Grafana Proxy"]}},"/alerts":{"get":{"operationId":"AlertsController_getAll","parameters":[{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"ids","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAlert"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get all alert rules","tags":["Alert Rules"]},"post":{"operationId":"AlertsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Alert"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAlert"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"default":{"message":["property queryId should not exist"]},"type":"#/components/schemas/ValidationError"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Create alert rule","tags":["Alert Rules"]}},"/alerts/{id}":{"put":{"operationId":"AlertsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Alert"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAlert"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"default":{"message":["property queryId should not exist"]},"type":"#/components/schemas/ValidationError"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Alert Rule does not exist","code":"alertRuleNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Update alert rule","tags":["Alert Rules"]},"delete":{"operationId":"AlertsController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"boolean"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Alert Rule does not exist","code":"alertRuleNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Delete alert rule","tags":["Alert Rules"]},"get":{"operationId":"AlertsController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAlert"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get alert rule by id","tags":["Alert Rules"]}},"/alerts/{id}/status":{"put":{"operationId":"AlertsController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertChangeStatus"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAlert"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"default":{"message":["property queryId should not exist"]},"type":"#/components/schemas/ValidationError"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Alert Rule does not exist","code":"alertRuleNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Update alert rule status","tags":["Alert Rules"]}},"/alerts/{id}/history/last":{"get":{"operationId":"AlertsController_getLastAlertHistory","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAlertHistory"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Alert Rule does not exist","code":"alertRuleNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get last history event for alert rule","tags":["Alert Rules"]}},"/alerts/events/latest":{"get":{"operationId":"AlertsController_getLatestEvents","parameters":[{"name":"newState","required":true,"in":"query","schema":{"type":"string"}},{"name":"prevState","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAlertHistory"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get latest events","tags":["Alert Rules"]}},"/alerts/history":{"get":{"operationId":"AlertsController_getAllHistory","parameters":[{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"ids","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAlertHistory"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get all history events","tags":["Alert Rules"]}},"/alerts/history/timeline":{"get":{"operationId":"AlertsController_getHistoryTimeline","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"ids","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedAlertEventResponse"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get history timeline","tags":["Alert Rules"]}},"/alerts/history/{eventId}":{"get":{"operationId":"AlertsController_getAlertHistoryEvent","parameters":[{"name":"eventId","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAlertHistory"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Alert Rule event does not exist","code":"alertRuleEventNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get history event for alert rule by id","tags":["Alert Rules"]}},"/alerts/{id}/data-preview":{"get":{"operationId":"AlertsController_getDataPreview","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConditionPreview"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get alert rule data preview","tags":["Alert Rules"]}},"/environment-management":{"get":{"operationId":"EnvironmentManagementController_get","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseEnvironment"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get Environment Info","tags":["Environment Management"]}},"/environment-management/grafana":{"put":{"operationId":"EnvironmentManagementController_updateGrafana","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnvironmentGrafanaToUpdate"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseEnvironment"}}}},"400":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Grafana is not reachable","code":"grafanaUnreachable"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Update Grafana Environment","tags":["Environment Management"]}},"/environment-management/name":{"put":{"operationId":"EnvironmentManagementController_updateEnvironmentName","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnvironmentName"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnvironmentName"}}}},"400":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Environment name is readonly","code":"environmentNameReadonly"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Update Environment Name","tags":["Environment Management"]}},"/transfer/export":{"get":{"operationId":"TransferController_exportEngineConfiguration","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExportData"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Export Engine Configuration","tags":["Transfer"]}},"/transfer/import":{"post":{"operationId":"TransferController_importEngineConfiguration","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportData"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"boolean"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"default":{"message":["property queryId should not exist"]},"type":"#/components/schemas/ValidationError"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"422":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Version is incompatible, expected \"[version]\"","code":"importDataVersionVersionIncompatible"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Import Engine Configuration","tags":["Transfer"]}},"/actions":{"get":{"operationId":"ActionsController_getAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAction"}}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get all actions","tags":["Actions"]},"post":{"operationId":"ActionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Action"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAction"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"default":{"message":["property queryId should not exist"]},"type":"#/components/schemas/ValidationError"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Create action","tags":["Actions"]}},"/actions/default":{"get":{"operationId":"ActionsController_getDefault","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAction"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"404":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Default action does not exist","code":"defaultActionNotFound"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get default action","tags":["Actions"]}},"/actions/events":{"get":{"operationId":"ActionsController_getEvents","parameters":[{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"ids","required":false,"in":"query","description":"Action Ids","schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedActionEventResponse"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get action events","tags":["Actions"]}},"/actions/{id}":{"put":{"operationId":"ActionsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Action"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAction"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"default":{"message":["property queryId should not exist"]},"type":"#/components/schemas/ValidationError"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Update action","tags":["Actions"]},"delete":{"operationId":"ActionsController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"boolean"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"default":{"message":["property queryId should not exist"]},"type":"#/components/schemas/ValidationError"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Delete action","tags":["Actions"]},"get":{"operationId":"ActionsController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseAction"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}}},"security":[{"Authorization":[]}],"summary":"Get action by id","tags":["Actions"]}},"/actions/test":{"post":{"operationId":"ActionsController_test","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Action"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionTestResult"}}}},"403":{"description":"","content":{"application/json":{"schema":{"default":{"message":"License verification failed","code":"licenseVerificationFailed"},"type":"#/components/schemas/ErrorResult"}}}},"500":{"description":"","content":{"application/json":{"schema":{"default":{"message":"Internal Server Error","code":"unknown"},"type":"#/components/schemas/ErrorResult"}}}},"502":{"description":"","content":{"application/json":{"schema":{"default":{"ok":false,"message":"Error details"}}}}}},"security":[{"Authorization":[]}],"summary":"Test action","tags":["Actions"]}},"/metrics":{"get":{"operationId":"MetricsController_index","parameters":[],"responses":{"200":{"description":"Prometheus metrics","content":{"application/json":{"schema":{"type":"string"}}}}},"summary":"Get prometheus metrics","tags":["Prometheus Metrics"]}}},"info":{"title":"Business Engine API","description":"Business Intelligence for Grafana.","version":"2.7.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"Authorization":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"LicenseInfo":{"type":"object","properties":{"limit":{"type":"number"},"used":{"type":"number"},"expiration":{"type":"number","description":"Timestamp ms"},"isCommunity":{"type":"boolean","description":"If Community"}},"required":["limit","used","expiration","isCommunity"]},"LicenseUpdate":{"type":"object","properties":{"token":{"type":"string"}},"required":["token"]},"LicenseUpdateResponse":{"type":"object","properties":{"token":{"type":"string"},"info":{"$ref":"#/components/schemas/LicenseInfo"}},"required":["token","info"]},"NodeConfiguration":{"type":"object","properties":{"isScaled":{"type":"boolean","example":false}},"required":["isScaled"]},"ClusteringLoadBalancing":{"type":"object","properties":{"id":{"type":"string"},"alertIds":{"type":"array","items":{"type":"string"}}},"required":["id","alertIds"]},"VariablesTimeRange":{"type":"object","properties":{"from":{"type":"number","description":"Timestamp in ms"},"to":{"type":"number","description":"Timestamp in ms"}},"required":["from","to"]},"GetDashboardVariables":{"type":"object","properties":{"dashboardId":{"type":"string"},"variables":{"type":"object","additionalProperties":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"timeRange":{"$ref":"#/components/schemas/VariablesTimeRange"}},"required":["dashboardId","variables"]},"VariableOption":{"type":"object","properties":{"label":{"type":"string"},"value":{"type":"string"}},"required":["label","value"]},"DashboardVariableOptionsResponse":{"type":"object","properties":{"options":{"type":"object","additionalProperties":{"oneOf":[{"$ref":"#/components/schemas/VariableOption"},{"type":"array","items":{"$ref":"#/components/schemas/VariableOption"}}]}}},"required":["options"]},"GrafanaPanelTarget":{"type":"object","properties":{"dashboardId":{"type":"string","description":"Dashboard Id"},"panelId":{"type":"number","description":"Panel Id"}},"required":["dashboardId","panelId"]},"AlertEvaluationPattern":{"type":"object","properties":{"field":{"type":"string"},"pattern":{"type":"string"},"type":{"type":"string","enum":["pattern"]}},"required":["field","pattern","type"]},"AlertEvaluationThresholds":{"type":"object","properties":{"type":{"type":"string","enum":["thresholds"]},"colors":{"type":"array","items":{"type":"string"}}},"required":["type","colors"]},"AlertEvaluationAnomaly":{"type":"object","properties":{"type":{"type":"string","enum":["anomaly"]}},"required":["type"]},"AlertVariable":{"type":"object","properties":{"name":{"type":"string"},"multi":{"type":"boolean"},"includeAll":{"type":"boolean"},"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}},{"type":"number"},{"type":"array","items":{"type":"number"}},{"type":"null"}]}},"required":["name","multi","includeAll","value"]},"AlertEvaluationApply":{"type":"object","properties":{"mode":{"type":"string","enum":["all","last","percentage"]},"percentage":{"type":"number"}},"required":["mode","percentage"]},"AlertCondition":{"type":"object","properties":{"id":{"type":"string"},"repeat":{"type":"string","nullable":true},"variables":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/AlertVariable"}},"evaluationType":{"type":"string","enum":["anomaly","pattern","thresholds"]},"evaluation":{"oneOf":[{"$ref":"#/components/schemas/AlertEvaluationPattern"},{"$ref":"#/components/schemas/AlertEvaluationThresholds"},{"$ref":"#/components/schemas/AlertEvaluationAnomaly"}]},"evaluationApply":{"oneOf":[{"$ref":"#/components/schemas/AlertEvaluationApply"}],"allOf":[{"$ref":"#/components/schemas/AlertEvaluationApply"}]}},"required":["id","repeat","evaluationType","evaluation","evaluationApply"]},"AlertConditionOverride":{"type":"object","properties":{"id":{"type":"string"},"evaluation":{"oneOf":[{"$ref":"#/components/schemas/AlertEvaluationPattern"},{"$ref":"#/components/schemas/AlertEvaluationThresholds"},{"$ref":"#/components/schemas/AlertEvaluationAnomaly"}]},"variables":{"type":"object","additionalProperties":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}},{"type":"number"},{"type":"array","items":{"type":"number"}},{"type":"null"}]}}},"required":["id"]},"AlertTimeRange":{"type":"object","properties":{"from":{"type":"number","description":"Time Offset in seconds"},"to":{"type":"number","description":"Time Offset in seconds"}},"required":["from","to"]},"ResponseAlert":{"type":"object","properties":{"status":{"type":"string","enum":["active","paused"]},"title":{"type":"string"},"dashboardId":{"type":"string"},"panelId":{"type":"number"},"sampleSize":{"type":"number"},"schedule":{"type":"string"},"actionIds":{"type":"array","items":{"type":"string"}},"annotations":{"type":"string","enum":["panel","dashboard","disabled"]},"timeRangeSource":{"type":"string","enum":["dashboard","configured"]},"timeRange":{"$ref":"#/components/schemas/AlertTimeRange"},"condition":{"$ref":"#/components/schemas/AlertCondition"},"conditionOverrides":{"type":"array","items":{"$ref":"#/components/schemas/AlertConditionOverride"}},"isConfigurationValid":{"type":"boolean"},"id":{"type":"string"},"stateStartDate":{"format":"date-time","type":"string","description":"State Start Date","nullable":true}},"required":["status","title","dashboardId","panelId","sampleSize","schedule","actionIds","annotations","timeRangeSource","condition","conditionOverrides","isConfigurationValid","id","stateStartDate"]},"Alert":{"type":"object","properties":{"status":{"type":"string","enum":["active","paused"]},"title":{"type":"string"},"dashboardId":{"type":"string"},"panelId":{"type":"number"},"sampleSize":{"type":"number"},"schedule":{"type":"string"},"actionIds":{"type":"array","items":{"type":"string"}},"annotations":{"type":"string","enum":["panel","dashboard","disabled"]},"timeRangeSource":{"type":"string","enum":["dashboard","configured"]},"timeRange":{"$ref":"#/components/schemas/AlertTimeRange"},"condition":{"$ref":"#/components/schemas/AlertCondition"},"conditionOverrides":{"type":"array","items":{"$ref":"#/components/schemas/AlertConditionOverride"}},"isConfigurationValid":{"type":"boolean"}},"required":["status","title","dashboardId","panelId","sampleSize","schedule","actionIds","annotations","timeRangeSource","condition","conditionOverrides","isConfigurationValid"]},"AlertChangeStatus":{"type":"object","properties":{"status":{"type":"string","enum":["active","paused"]}},"required":["status"]},"ResponseAlertHistory":{"type":"object","properties":{"id":{"type":"string"},"alertId":{"type":"string"},"startDate":{"format":"date-time","type":"string"},"endDate":{"format":"date-time","type":"string","nullable":true},"event":{"type":"string"},"prevState":{"type":"string","enum":["scheduled","ok","alerting","error","none"]},"newState":{"type":"string","enum":["scheduled","ok","alerting","error"]},"duration":{"type":"number"},"alertTitle":{"type":"string"}},"required":["id","alertId","startDate","endDate","event","prevState","newState","duration","alertTitle"]},"PaginatedData":{"type":"object","properties":{"page":{"type":"number"},"total":{"type":"number"}},"required":["page","total"]},"PaginatedAlertEventResponse":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAlertHistory"}},"pagination":{"$ref":"#/components/schemas/PaginatedData"}},"required":["data","pagination"]},"UnknownObjectModel":{"type":"object","properties":{}},"ConditionPreviewQuery":{"type":"object","properties":{"from":{"type":"string"},"to":{"type":"string"},"queries":{"type":"array","items":{"$ref":"#/components/schemas/UnknownObjectModel"}}},"required":["from","to","queries"]},"ConditionPreview":{"type":"object","properties":{"query":{"$ref":"#/components/schemas/ConditionPreviewQuery"},"repeat":{"oneOf":[{"type":"string"},{"type":"null"}]},"error":{"type":"boolean"},"errorDetails":{"type":"object","properties":{}},"fieldConfig":{"type":"object","properties":{}},"variables":{"description":"Scoped Variables","type":"array","items":{"$ref":"#/components/schemas/UnknownObjectModel"}},"series":{"description":"Grafana Data Frames","type":"array","items":{"$ref":"#/components/schemas/UnknownObjectModel"}}},"required":["query","repeat","error","variables","series"]},"ResponseEnvironmentMain":{"type":"object","properties":{"serverPort":{"type":"number"},"schedulerPort":{"type":"number"},"nodeId":{"type":"string"},"logLevel":{"type":"string","enum":["log","error","warn","debug","verbose","fatal"]},"apiDocumentation":{"type":"boolean"}},"required":["serverPort","schedulerPort","nodeId","logLevel","apiDocumentation"]},"EnvironmentProcessing":{"type":"object","properties":{"alertBatchSize":{"type":"number"},"alertAnnotationsBatchSize":{"type":"number"}},"required":["alertBatchSize","alertAnnotationsBatchSize"]},"ResponseEnvironmentGrafana":{"type":"object","properties":{"url":{"type":"string","example":"http://localhost:3000"},"healthCheckTimeout":{"type":"number"},"healthCheckRetry":{"type":"number"},"requestTimeout":{"type":"number"},"version":{"type":"string"}},"required":["url","healthCheckTimeout","healthCheckRetry","requestTimeout","version"]},"EnvironmentDatabase":{"type":"object","properties":{"host":{"type":"string","example":"localhost"},"port":{"type":"number","example":5432},"username":{"type":"string"},"db":{"type":"string"}},"required":["host","port","username","db"]},"ResponseEnvironment":{"type":"object","properties":{"main":{"$ref":"#/components/schemas/ResponseEnvironmentMain"},"processing":{"$ref":"#/components/schemas/EnvironmentProcessing"},"grafana":{"$ref":"#/components/schemas/ResponseEnvironmentGrafana"},"database":{"$ref":"#/components/schemas/EnvironmentDatabase"}},"required":["main","processing","grafana","database"]},"EnvironmentGrafanaToUpdate":{"type":"object","properties":{"url":{"type":"string","example":"http://localhost:3000"},"healthCheckTimeout":{"type":"number"},"healthCheckRetry":{"type":"number"},"requestTimeout":{"type":"number"},"version":{"type":"string"},"token":{"type":"string","description":"Grafana service account token"}},"required":["url","healthCheckTimeout","healthCheckRetry","requestTimeout","version","token"]},"EnvironmentName":{"type":"object","properties":{"name":{"type":"string","description":"Environment Name"}},"required":["name"]},"ActionRequestHeader":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"}},"required":["key","value"]},"ActionRequestOptions":{"type":"object","properties":{"url":{"type":"string"},"headers":{"type":"array","items":{"$ref":"#/components/schemas/ActionRequestHeader"}}},"required":["url","headers"]},"ActionCustomOptions":{"type":"object","properties":{}},"ResponseAction":{"type":"object","properties":{"title":{"type":"string"},"type":{"type":"string","enum":["request","custom"]},"options":{"oneOf":[{"$ref":"#/components/schemas/ActionRequestOptions"},{"$ref":"#/components/schemas/ActionCustomOptions"}],"allOf":[{"$ref":"#/components/schemas/ActionRequestOptions"}]},"isDefault":{"type":"boolean"},"message":{"type":"string"},"id":{"type":"string"},"useFor":{"type":"array","items":{"type":"string"}},"useForByDefault":{"type":"array","items":{"type":"string"}}},"required":["title","type","options","message","id","useFor"]},"ExportData":{"type":"object","properties":{"version":{"type":"string"},"alerts":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAlert"}},"actions":{"type":"array","items":{"$ref":"#/components/schemas/ResponseAction"}}},"required":["version","alerts","actions"]},"ResponseCalculatedCondition":{"type":"object","properties":{}},"ResponseActionEvent":{"type":"object","properties":{"id":{"type":"string"},"date":{"format":"date-time","type":"string"},"alert":{"$ref":"#/components/schemas/ResponseAlert"},"alertEvent":{"$ref":"#/components/schemas/ResponseAlertHistory"},"condition":{"$ref":"#/components/schemas/ResponseCalculatedCondition"},"message":{"type":"string"},"status":{"type":"string","enum":["ok","error"]},"error":{"type":"object"}},"required":["id","date","message","status"]},"PaginatedActionEventResponse":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ResponseActionEvent"}},"pagination":{"$ref":"#/components/schemas/PaginatedData"}},"required":["data","pagination"]},"Action":{"type":"object","properties":{"title":{"type":"string"},"type":{"type":"string","enum":["request","custom"]},"options":{"oneOf":[{"$ref":"#/components/schemas/ActionRequestOptions"},{"$ref":"#/components/schemas/ActionCustomOptions"}],"allOf":[{"$ref":"#/components/schemas/ActionRequestOptions"}]},"isDefault":{"type":"boolean"},"message":{"type":"string"}},"required":["title","type","options","message"]},"ActionTestResult":{"type":"object","properties":{"ok":{"type":"boolean"},"message":{"type":"string"}},"required":["ok","message"]}}},"externalDocs":{"description":"Documentation","url":"https://volkovlabs.io/big/"}}