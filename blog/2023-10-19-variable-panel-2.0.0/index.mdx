---
authors: [daria]
slug: variable-panel-2.0.0-20231019/
tags: [Variables, Release Notes]
image: /img/blog/2023-10-19-variable-panel-2.0.0/banner.png
keywords: [Variable, Panel, Status]
---

import Image from "@theme/Image";
import Video from "@theme/Video";

# Variable Panel 2.0.0

We are happy to announce the release of the Variable Panel 2.0.0. This release includes the following updates:

- Added handling of the enter key for the Text Box variable type.
- Significant performance improvement.
- Added clear(empty) value for the multi-value variables.
- Added support of the Grafana key-value variable format for all display modes.

:::info Grafana Catalog
The plugin is under review.
:::

## Enter key for the Text Box type

Hitting the enter key after typing a text value in the Text box variable type will trigger the dashboard refresh. Before implementing this feature, a user had to use a mouse cursor to click outside the box for the variable to take effect. 

<Image
  title="You can use the enter key for the variable to take effect."
  src="/img/blog/2023-10-19-variable-panel-2.0.0/enter.png"
/>

## Improved Performance

Up to 10K records will work swiftly without significant performance degradation.
For up to 50K records, you might notice a slight one- to two-second delay. 

We achieved that improvement by using a table virtualization approach.

The illustration below displays the performance statistics we collected in one of the Chrome extensions to confirm the approach is working.

<Image
  title="Initial load time with 50,000 items in the table view."
  src="/img/blog/2023-10-19-variable-panel-2.0.0/performance.png"
/>

## Empty value in Multi-value Variables

This feature works for the following Display modes:
 - Minimize
 - Button

<Image
  title="Empty Value exists for the Minimize and Button Display modes."
  src="/img/blog/2023-10-19-variable-panel-2.0.0/empty-value.png"
/>

Until now, after a user had selected an item in a Multi-value variable, there was no way of returning to the filter that was not activated.

<Image
  title="Multi-value setting for dashboard variables."
  src="/img/blog/2023-10-19-variable-panel-2.0.0/multi-value.png"
/>

With this release, a user can clear a filtering option and have the original variable setup. By the original setup, we imply when nothing is selected.

For this feature to work, you must enable the <b>Empty Value</b> parameter in the Variable section.

<Image
  title="When Empty value is enabled, a user can get back to the original state of the variable."
  src="/img/blog/2023-10-19-variable-panel-2.0.0/empty-all.png"
/>

## Key-values format in Variables

We intriduced this feature in the Rleease 1.7.0 of the Variable plugin. The functionality was limited to the Table/Tree View. Starting from this release all display modes (All variations of Table, Minimize, Button) support key-value variable format. 

A Grafana variable can be composed of a key and value to make possible joining data sets by IDs(key) while user-friendly names(value) are shown. 

In the illustration below, screen 1, the `city` variable is created with three key-value pairs.

```text

Chicago:1, New York:2, Tampa:3

```

Screen 2 is a dashboard view where an end-user sees only city names. After the selection is made (here, New York:2), the variable carries a value equal to 2. 

From there the `city` variable's value can be used in the queries for other panels, screen 3.

<Image
  title="Example of key-value variable format in the Variable panel."
  src="/img/blog/2023-08-10-variable-panel-1.7.0/key-value.png"
/>

## Getting Started

The Variable panel can be installed from the [Grafana Catalog](https://grafana.com/grafana/plugins/volkovlabs-variable-panel/) or utilizing the Grafana command line tool.

For the latter, please use the following command.

```bash
grafana-cli plugins install volkovlabs-variable-panel
```

## YouTube Tutorial

The Variable panel builds on top of the regular dashboard variables. It allows you to have dashboard filters in a separate panel which you can place anywhere on the dashboard.

The variable panel offers you single- and multi-variable layouts along with an advanced Tree View.

<Video
  src="https://www.youtube.com/embed/mYYtMW9qiPA"
  title="Demonstrates the Variable panel functionality."
/>

## Release Notes

### Features / Enhancements

- Update variable option label for parent items in tree view (#62)
- Add handling enter and escape keys for Text Variable (#69)
- Add table virtualization to improve performance (#64, #74)
- Clear value for the multi-choice variable (#66)
- Update to Plugin Tools 2.1.1 (#72)
- Use Grafana Access Policy to sign plugin (#72)
- Update to Grafana 10.1.5 (#73)

### Bugfixes

- Fix key:value option selection for Minimize and Button views (#75)

## Feedback

We're looking forward to hearing from you. You can use different ways to get in touch with us.

- Ask a question, request a new feature, and file a bug with [GitHub issues](https://github.com/volkovlabs/volkovlabs-variable-panel/issues).
- Subscribe to our [YouTube Channel](https://www.youtube.com/@volkovlabs) and leave your comments.
- Sponsor our open-source plugins for Grafana with [GitHub Sponsor](https://github.com/sponsors/VolkovLabs).
- Support our project by starring the repository.
