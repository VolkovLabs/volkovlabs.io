---
authors: [daria]
slug: dynamictext-panel-4.3.0-20240108/
tags: [Dynamic Text, Release Notes]
image: /img/blog/2024-01-08-dynamictext-panel-4.3.0/banner.png
keywords: [Dynamic Text, Panel, JavaScript, Events, Grafana]
---

import Image from "@theme/Image";
import Shorts from "@theme/Shorts";
import Video from "@theme/Video";

# Dynamic Text Panel 4.3.0

We're excited to announce the release of the Dynamic Text Panel 4.3.0. This feature release includes the following updates:

- Added new Data Render Mode.
- Added access to panel data selected data frame from context.
- Added variableValue helper.
- Added re-render on dashboard refresh.
- Added compatibility with Grafana 10.2.2 and upcoming 10.3.0.

:::info Grafana Plugins catalog
The plugin was updated in Grafana Catalog on January 2, 2024.
:::

## New Data Render Mode

Example of iteration within panel data:

### Display Data Frame

```handlebars
{{{json data}}}
```

### Example

#### Data

```json
{
  "data": [
    [{ "name": "a" }, { "name": "b" }],
    [{ "age": 10 }, { "age": 20 }]
  ]
}
```

#### Template

```handlebars
{{#each data.[0]}}
{{name}} - {{#with (lookup ../data.[1] @index)}}{{age}}{{/with}}
{{/each}}
```

## Panel Data and selected data frame

```
console.log(context)
```

## `variableValue` helper

```handlebars
<a href="/d/abc?{{variableValue '${test:queryparam}'}}">Link</a>
```

## Re-render on dashboard refresh

## D3.js Example

I got it from Josiah, screenshot in the Slack.

### External Resources

```
https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.js
https://cdn.jsdelivr.net/npm/d3-scale-chromatic@3.0.0/dist/d3-scale-chromatic.min.js
```

### Content

```html
<div id="addisAbeba"></div>
```

## JS code

```js
let data = context.data;
console.log("data ", data);
// set the dimensions and margins of the graph
var margin = { top: 80, right: 25, bottom: 30, left: 40 },
  width = 450 - margin.left - margin.right,
  height = 450 - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3
  .select("#addisAbeba")
  .append("svg")
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom)
  .append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

//Read the data
// Labels of row and columns -> unique identifier of the column called 'group' and 'variable'

var myGroups = data.map((sweetItem) => {
  return sweetItem.group;
});

var myVars = data.map((sweetItem) => {
  return sweetItem.variable;
});

// Build X scales and axis:
var x = d3.scaleBand().range([0, width]).domain(myGroups).padding(0.05);

svg
  .append("g")
  .style("font-size", 15)
  .attr("transform", "translate(0," + height + ")")
  .call(d3.axisBottom(x).tickSize(0))
  .select(".domain")
  .remove();

// Build Y scales and axis:
var y = d3.scaleBand().range([height, 0]).domain(myVars).padding(0.05);

svg
  .append("g")
  .style("font-size", 15)
  .call(d3.axisLeft(y).tickSize(0))
  .select(".domain")
  .remove();

// Build color scale
var myColor = d3
  .scaleSequential()
  .interpolator(d3.interpolateInferno)
  .domain([1, 100]);

// add the squares
svg
  .selectAll()
  .data(data, function (d) {
    return d.group + ":" + d.variable;
  })
  .enter()
  .append("rect")
  .attr("x", function (d) {
    return x(d.group);
  })
  .attr("y", function (d) {
    return y(d.variable);
  })
  .attr("rx", 4)
  .attr("ry", 4)
  .attr("width", x.bandwidth())
  .attr("height", y.bandwidth())
  .style("fill", function (d) {
    return myColor(d.value);
  })
  .style("stroke-width", 4)
  .style("stroke", "none")
  .style("opacity", 0.8);
```

## Flowchart

I got it from Josiah, dashboard with 4.3.0 is on server.

### External Resources

```
https://flowchart.js.org/flowchart-latest.js
https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js
```

### Content

```html
<div id="addisAbeba"></div>
```

#### JS code

```
var flow = `
st=>start: Start:>http://www.google.com[blank]
e=>end:>http://www.google.com
op1=>operation: My Operation
sub1=>subroutine: My Subroutine
cond=>condition: Yes
or No?:>http://www.google.com
io=>inputoutput: catch something...
para=>parallel: parallel tasks
in=>input: some in
out=>output: some out

st->op1->cond
cond(yes)->io->e
cond(no)->para
para(path1, bottom)->sub1(right)->op1
para(path2, top)->op1
para(path3, right)->in->out->e`

var diagram = flowchart.parse(flow);
diagram.drawSVG('addisAbeba');
```

## Getting Started

You can install Dynamic Text Panel from the [Grafana Plugins catalog](https://grafana.com/grafana/plugins/marcusolsson-dynamictext-panel/) or using the Grafana command line tool.

For the latter, please use the following command:

```bash
grafana-cli plugins install marcusolsson-dynamictext-panel
```

## YouTube Tutorial

The Dynamic Text panel is a mighty Grafana plugin to convert any monotonous bulk of data into vibrant, effortlessly comprehended visualization.

To this moment, I have created three videos. The latest one describes more features as more features have been implemented to the day of creation.
Yet, the latest Dynamic Text plugin version is far more advanced with numerous new features implemented since August.

### Video 3, published on August 15, 2023

In this video, I touch upon the main features and panel options along with demonstrating community use cases.

<Video
  src="https://www.youtube.com/embed/AcQi-6GCrNU"
  title="Dynamic Text plugin for Grafana | Use HTML, Markdown, JavaScript and CSS | Community use cases."
/>

### Video 2, published on January 29, 2023

Since the latest release, the community has requested many changes. This video outlines all the new features we implemented, including the most asked-for JavaScript area code.

<Video
  src="https://www.youtube.com/embed/lJqk5Gobec4"
  title="JavaScript code in Dynamic Text Panel."
/>

### Video 1, published on October 24, 2022

This is the first guide we created for the Dynamic Text plugin for Grafana.
The plugin does a fantastic job by transforming bland table data into vibrant, readable visualization emphasizing critical tidbits.

<Video
  src="https://www.youtube.com/embed/MpNZ4Yl-p0U"
  title="Markdown, HTML, and Handlebars for transforming data visualizations."
/>

## Release Notes

### Features / Enhancements

- Update ESLint configuration and refactor (#239)
- Update Collapse from @volkovlabs/components (#239)
- Update Introduction video in README (#240)
- Add data render mode and passing selected data frame (#246)
- Update to Grafana 10.2.2 and Volkov labs packages (#247)
- Add variableValue helper (#252)
- Add re-render on dashboard refresh (#252)

### Bug fixes

- Fix draggable icon in Grafana 10.3 (#249)

## Feedback

We're looking forward to hearing from you. You can use different ways to get in touch with us.

- Ask a question, request a new feature, or report an issue at [GitHub issues](https://github.com/volkovlabs/volkovlabs-dynamictext-panel/issues).
- Subscribe to our [YouTube Channel](https://www.youtube.com/@volkovlabs) and leave your comments.
- Sponsor our open-source plugins for Grafana at [GitHub Sponsor](https://github.com/sponsors/VolkovLabs).
- Support our project by starring the repository.
